<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>1. Generating GLOBIOM scenario plots • globiomvis</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="1. Generating GLOBIOM scenario plots">
<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">globiomvis</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/getting_started.html">Getting started</a>
</li>
<li>
  <a href="../articles/installation.html">Installation</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Examples
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/example1.html">1. Generating GLOBIOM scenario plots</a>
    </li>
    <li>
      <a href="../articles/example2.html">2. Generating EU NUTS maps</a>
    </li>
    <li>
      <a href="../articles/example3.html">3. Generating GLOBIOM 30 region maps</a>
    </li>
    <li>
      <a href="../articles/example4.html">4. Generating LUID maps</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/iiasa/globiomvis">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>1. Generating GLOBIOM scenario plots</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/iiasa/globiomvis/blob/master/vignettes/example1.Rmd"><code>vignettes/example1.Rmd</code></a></small>
      <div class="hidden name"><code>example1.Rmd</code></div>

    </div>

    
    
<div id="introduction" class="section level2">
<h2 class="hasAnchor">
<a href="#introduction" class="anchor"></a>Introduction</h2>
<p>To quickly inspect GLOBIOM runs it is often useful to compare historical trends of key variables with model projections. The package includes several functions to support this task. <code>trend_plot_all</code> produces a PDF file with plots for key combinations of variables, items and units across all GLOBIOM regions for which data is created. <code>trend_plot</code> is basic function that allows the user to make individual plots for selected variables, items, units and regions. Before the functions can be used historical data and globiom output needs to be loaded first.</p>
</div>
<div id="loading-and-preparing-data" class="section level2">
<h2 class="hasAnchor">
<a href="#loading-and-preparing-data" class="anchor"></a>Loading and preparing data</h2>
<p>Start by loading the required packages.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(gdxrrw)</a>
<a class="sourceLine" id="cb1-2" data-line-number="2"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(dplyr)</a>
<a class="sourceLine" id="cb1-3" data-line-number="3"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(tidyr)</a>
<a class="sourceLine" id="cb1-4" data-line-number="4"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(purrr)</a>
<a class="sourceLine" id="cb1-5" data-line-number="5"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(ggplot2)</a>
<a class="sourceLine" id="cb1-6" data-line-number="6"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(globiomvis)</a></code></pre></div>
<p>This will work if you have followed the <a href="installation.html">installation instructions</a>. Provided that you <a href="installation.html#using-gdxrrw">have set</a> the <code>R_GAMS_SYSDIR</code> environment variable, <code>gdxrrw</code> will load the GAMS GDX libraries when subsequently issuing:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1"><span class="kw"><a href="https://rdrr.io/pkg/gdxrrw/man/igdx.html">igdx</a></span>(<span class="st">""</span>)</a></code></pre></div>
<p>We load a GLOBIOM output file. We use <code>setNames</code> to add column names. These will be missing if the gams data table (i.e. the Symbol) has ’*‘instead of set names. We also ensure that <code>YEAR</code> is an integer (and not a character) and <code>ITEM_AG, VAR_ID and VAR_UNIT</code> are in capitals, and add a ’source’ column.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1">globiom_path &lt;-<span class="st"> "P:/globiom"</span></a>
<a class="sourceLine" id="cb3-2" data-line-number="2">globiom_file &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/file.path.html">file.path</a></span>(globiom_path, <span class="st">"projects/TEMP/globiom_results/MODEL_OUTPUT_AG_SSP2_lookup_q_SDG_10052019.gdx"</span>)</a>
<a class="sourceLine" id="cb3-3" data-line-number="3">symbol &lt;-<span class="st"> "OUTPUT_AG"</span></a>
<a class="sourceLine" id="cb3-4" data-line-number="4">globiom &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/pkg/gdxrrw/man/rgdx.html">rgdx.param</a></span>(globiom_file, symbol) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb3-5" data-line-number="5"><span class="st">  </span><span class="kw"><a href="https://rdrr.io/r/stats/setNames.html">setNames</a></span>(<span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"VAR_ID"</span>, <span class="st">"VAR_UNIT"</span>, <span class="st">"REGION_AG"</span>, <span class="st">"ITEM_AG"</span>, <span class="st">"MacroScen"</span>, <span class="st">"BioenScen"</span>, <span class="st">"IEA_Scen"</span>, <span class="st">"YEAR"</span>, <span class="st">"OUTPUT_AG"</span>)) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb3-6" data-line-number="6"><span class="st">  </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span>(<span class="dt">YEAR =</span> <span class="kw"><a href="https://rdrr.io/r/base/integer.html">as.integer</a></span>(<span class="kw"><a href="https://rdrr.io/r/base/character.html">as.character</a></span>(YEAR)),</a>
<a class="sourceLine" id="cb3-7" data-line-number="7">         <span class="dt">ITEM_AG =</span> <span class="kw"><a href="https://rdrr.io/r/base/chartr.html">toupper</a></span>(<span class="kw"><a href="https://rdrr.io/r/base/character.html">as.character</a></span>(ITEM_AG)),</a>
<a class="sourceLine" id="cb3-8" data-line-number="8">         <span class="dt">VAR_ID =</span> <span class="kw"><a href="https://rdrr.io/r/base/chartr.html">toupper</a></span>(VAR_ID),</a>
<a class="sourceLine" id="cb3-9" data-line-number="9">         <span class="dt">VAR_UNIT =</span> <span class="kw"><a href="https://rdrr.io/r/base/chartr.html">toupper</a></span>(VAR_UNIT),</a>
<a class="sourceLine" id="cb3-10" data-line-number="10">         <span class="dt">source =</span> <span class="st">"globiom"</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb3-11" data-line-number="11"><span class="st">  </span>droplevels</a></code></pre></div>
<p>We also load the historical FAOSTAT data, aggregated to GLOBIOM nomenclature and make some adjustments in the same way as we did for the globiom data file.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" data-line-number="1">hist &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/pkg/gdxrrw/man/rgdx.html">rgdx.param</a></span>(<span class="kw"><a href="https://rdrr.io/r/base/file.path.html">file.path</a></span>(globiom_path, <span class="st">"projects/TEMP/globiom_results/OUTPUT_FAO_REGION_since1961_ag_NSUST.gdx"</span>), <span class="st">"OUTPUT_AG"</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb4-2" data-line-number="2"><span class="st">  </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span>(<span class="dt">YEAR =</span> <span class="kw"><a href="https://rdrr.io/r/base/integer.html">as.integer</a></span>(<span class="kw"><a href="https://rdrr.io/r/base/character.html">as.character</a></span>(YEAR)),</a>
<a class="sourceLine" id="cb4-3" data-line-number="3">         <span class="dt">ITEM_AG =</span> <span class="kw"><a href="https://rdrr.io/r/base/chartr.html">toupper</a></span>(<span class="kw"><a href="https://rdrr.io/r/base/character.html">as.character</a></span>(ITEM_AG)),</a>
<a class="sourceLine" id="cb4-4" data-line-number="4">         <span class="dt">VAR_ID =</span> <span class="kw"><a href="https://rdrr.io/r/base/chartr.html">toupper</a></span>(VAR_ID),</a>
<a class="sourceLine" id="cb4-5" data-line-number="5">         <span class="dt">VAR_UNIT =</span> <span class="kw"><a href="https://rdrr.io/r/base/chartr.html">toupper</a></span>(VAR_UNIT),</a>
<a class="sourceLine" id="cb4-6" data-line-number="6">         <span class="dt">source =</span> <span class="st">"historical"</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb4-7" data-line-number="7"><span class="st">  </span>droplevels</a></code></pre></div>
</div>
<div id="create-a-pdf-with-plots-for-key-variable-item-and-unit-combinations" class="section level2">
<h2 class="hasAnchor">
<a href="#create-a-pdf-with-plots-for-key-variable-item-and-unit-combinations" class="anchor"></a>Create a PDF with plots for key variable, item and unit combinations</h2>
<p>Main combinations of globiom variables (VAR_ID), items (ITEM_AG) and units (VAR_UNIT) are stored in <code>main_output_comb</code>. The function <code>trend_plot_all</code> creates a PDF file with plots for all of these output combinations (and are present in the GLOBIOM output file). In the example below the PDF file with the name <code>globiom_trend_plots_YYYY-MM_DD.pdf</code> is saved to a temporary directory. You may want to change the <code>path</code> parameter to a more permanent location. Note that it might take a bit of time as more than 200 plots are generated.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" data-line-number="1"><span class="co"># Show main combinations of globiom variables</span></a>
<a class="sourceLine" id="cb5-2" data-line-number="2"><span class="kw"><a href="https://rdrr.io/r/utils/data.html">data</a></span>(<span class="st">"main_output_comb"</span>, <span class="dt">package=</span><span class="st">"globiomvis"</span>)</a>
<a class="sourceLine" id="cb5-3" data-line-number="3"><span class="kw"><a href="https://rdrr.io/r/base/print.html">print</a></span>(main_output_comb)</a>
<a class="sourceLine" id="cb5-4" data-line-number="4"></a>
<a class="sourceLine" id="cb5-5" data-line-number="5"><span class="kw"><a href="https://iiasa.github.io/globiomvis/reference/trend_plot_all.html">trend_plot_all</a></span>(<span class="dt">df_gl =</span> globiom, <span class="dt">df_hs =</span> hist, <span class="dt">path =</span> <span class="kw"><a href="https://rdrr.io/r/base/tempfile.html">tempdir</a></span>())</a></code></pre></div>
</div>
<div id="create-plots-for-your-own-selection-of-globiom-output" class="section level2">
<h2 class="hasAnchor">
<a href="#create-plots-for-your-own-selection-of-globiom-output" class="anchor"></a>Create plots for your own selection of GLOBIOM output</h2>
<p>It is also possible to create a PDF with a subset of combinations. The function <code><a href="https://iiasa.github.io/globiomvis/reference/all_output_comb.html">all_output_comb()</a></code> creates a data frame with all VAR_ID, ITEM_AG and VAR_UNIT combinations in a globiom output file. This file can be used as a basis to filter out relevant output combinations. Alternatively, one can use <code>main_output_comb</code> as a basis or create a new data frame with output combinations.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" data-line-number="1">comb_sel &lt;-<span class="st"> </span><span class="kw"><a href="https://iiasa.github.io/globiomvis/reference/all_output_comb.html">all_output_comb</a></span>(globiom) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb6-2" data-line-number="2"><span class="st">  </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span>(VAR_ID <span class="op">%in%</span><span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"AREA"</span>, <span class="st">"PROD"</span>), ITEM_AG <span class="op">%in%</span><span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"CORN"</span>, <span class="st">"CRPLND"</span>), VAR_UNIT <span class="op">%in%</span><span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"1000 HA"</span>, <span class="st">"1000 T"</span>))</a>
<a class="sourceLine" id="cb6-3" data-line-number="3"></a>
<a class="sourceLine" id="cb6-4" data-line-number="4"><span class="kw"><a href="https://iiasa.github.io/globiomvis/reference/trend_plot_all.html">trend_plot_all</a></span>(<span class="dt">df_gl =</span> globiom, <span class="dt">df_hs =</span> hist, <span class="dt">path =</span> <span class="kw"><a href="https://rdrr.io/r/base/tempfile.html">tempdir</a></span>(), <span class="dt">comb =</span> comb_sel, <span class="dt">file_name =</span> <span class="st">"globiom_selected"</span>)</a></code></pre></div>
<p>If you want full flexibility to plot the GLOBIOM results, for instance by zooming on a subset of scenarios for a selected number of variables, items and units, it is easier to use the basic function <code>trend_plot</code>. The following example uses <code>trend_plot</code> to create a plot for VAR_ID = AREA, ITEM_AG = 1000 HA, VAR_UNIT = 1000 HA, regions: World and EUR and two scenarios: GHG000_BIO00 and GHG000_BIO06. Note that the function gives an error if the combination of variables is not present in the data.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" data-line-number="1"><span class="kw"><a href="https://iiasa.github.io/globiomvis/reference/trend_plot.html">trend_plot</a></span>(<span class="dt">var =</span> <span class="st">"AREA"</span>, <span class="dt">item =</span> <span class="st">"CORN"</span>, <span class="dt">unit =</span> <span class="st">"1000 HA"</span>, <span class="dt">reg =</span> <span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"World"</span>, <span class="st">"EUR"</span>), <span class="dt">df_gl =</span> globiom, <span class="dt">df_hs =</span> hist)</a></code></pre></div>
<p><img src="example1_files/trend_plot_example.png"><!-- --></p>
<p>If you want multiple figures, one has to loop this function over a selection of the data. This requires some additional code and is illustrated below.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" data-line-number="1"><span class="co"># Select scenarios, variables, items and units</span></a>
<a class="sourceLine" id="cb8-2" data-line-number="2">var_sel &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"AREA"</span>, <span class="st">"PROD"</span>)</a>
<a class="sourceLine" id="cb8-3" data-line-number="3">item_sel &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"CORN"</span>, <span class="st">"CRPLND"</span>)</a>
<a class="sourceLine" id="cb8-4" data-line-number="4">unit_sel &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"1000 HA"</span>, <span class="st">"1000 T"</span>)</a>
<a class="sourceLine" id="cb8-5" data-line-number="5">reg_sel &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"World"</span>, <span class="st">"EUR"</span>)</a>
<a class="sourceLine" id="cb8-6" data-line-number="6">scen_sel &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"GHG000_BIO00"</span>, <span class="st">"GHG000_BIO06"</span>)</a>
<a class="sourceLine" id="cb8-7" data-line-number="7"></a>
<a class="sourceLine" id="cb8-8" data-line-number="8"><span class="co"># Create data frame with selected GLOBIOM output</span></a>
<a class="sourceLine" id="cb8-9" data-line-number="9">globiom_sel &lt;-<span class="st"> </span>globiom <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb8-10" data-line-number="10"><span class="st">  </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span>(VAR_ID <span class="op">%in%</span><span class="st"> </span>var_sel , ITEM_AG <span class="op">%in%</span><span class="st"> </span>item_sel , VAR_UNIT <span class="op">%in%</span><span class="st"> </span>unit_sel, BioenScen <span class="op">%in%</span><span class="st"> </span>scen_sel)</a>
<a class="sourceLine" id="cb8-11" data-line-number="11"></a>
<a class="sourceLine" id="cb8-12" data-line-number="12"><span class="co"># Create data frame with unique output combinations in selected globiom output</span></a>
<a class="sourceLine" id="cb8-13" data-line-number="13">sel_output_comb &lt;-<span class="st"> </span><span class="kw"><a href="https://iiasa.github.io/globiomvis/reference/all_output_comb.html">all_output_comb</a></span>(globiom_sel)</a>
<a class="sourceLine" id="cb8-14" data-line-number="14"></a>
<a class="sourceLine" id="cb8-15" data-line-number="15"><span class="co"># Loop over VAR_ID, ITEM_AG and VAR_UNIT </span></a>
<a class="sourceLine" id="cb8-16" data-line-number="16"><span class="kw"><a href="https://rdrr.io/r/grDevices/pdf.html">pdf</a></span>(<span class="dt">file =</span> <span class="kw"><a href="https://rdrr.io/r/base/file.path.html">file.path</a></span>(<span class="kw"><a href="https://rdrr.io/r/base/tempfile.html">tempdir</a></span>(), <span class="kw"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span>(<span class="st">"globiom_trend_plots_loop_"</span>, <span class="kw"><a href="https://rdrr.io/r/base/Sys.time.html">Sys.Date</a></span>(), <span class="st">".pdf"</span>)))</a>
<a class="sourceLine" id="cb8-17" data-line-number="17">    purrr<span class="op">::</span><span class="kw"><a href="https://purrr.tidyverse.org/reference/map.html">walk</a></span>(<span class="dv">1</span><span class="op">:</span><span class="kw"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span>(sel_output_comb), <span class="cf">function</span>(i){</a>
<a class="sourceLine" id="cb8-18" data-line-number="18">      <span class="kw"><a href="https://iiasa.github.io/globiomvis/reference/trend_plot.html">trend_plot</a></span>(<span class="dt">var =</span> sel_output_comb<span class="op">$</span>VAR_ID[i], <span class="dt">item =</span> sel_output_comb<span class="op">$</span>ITEM_AG[i], </a>
<a class="sourceLine" id="cb8-19" data-line-number="19">                 <span class="dt">unit =</span> sel_output_comb<span class="op">$</span>VAR_UNIT[i], <span class="dt">reg =</span> reg_sel, <span class="dt">df_gl =</span> globiom_sel, <span class="dt">df_hs =</span> hist)</a>
<a class="sourceLine" id="cb8-20" data-line-number="20">    })</a>
<a class="sourceLine" id="cb8-21" data-line-number="21">    <span class="kw"><a href="https://rdrr.io/r/grDevices/dev.html">dev.off</a></span>()</a></code></pre></div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">

        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#introduction">Introduction</a></li>
      <li><a href="#loading-and-preparing-data">Loading and preparing data</a></li>
      <li><a href="#create-a-pdf-with-plots-for-key-variable-item-and-unit-combinations">Create a PDF with plots for key variable, item and unit combinations</a></li>
      <li><a href="#create-plots-for-your-own-selection-of-globiom-output">Create plots for your own selection of GLOBIOM output</a></li>
      </ul>
</div>
      </div>

</div>



      <footer><div class="copyright">
  <p>Developed by Michiel van Dijk, Albert Brouwer.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
